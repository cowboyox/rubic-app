<div class="instant-trade-bottom-form">
    <main class="instant-trade-bottom-form__body">
      <div class="instant-trade-bottom-form__body-top">
        <app-rubic-tokens
          [loading]="loading"
          tokenType="to"
          [tokens]="tokens"
          [formService]="formService"
        ></app-rubic-tokens>
        <div *ngIf="selectedProvider" class="instant-trade-bottom-form__amount">
          <div class="instant-trade-bottom-form__token-amount">{{ selectedProvider.trade.to.amount }}</div>
          <div class="instant-trade-bottom-form__usd-amount">${{ getUsdPrice() }}</div>
        </div>
      </div>
      <ng-container *ngIf="allowTrade">
        <div
          class="instant-trade-bottom-form__provider-item"
          *ngFor="let provider of orderedProviders"
        >
          <app-provider-panel
            [providerControllerData]="provider"
            (selectProvider)="selectProvider(provider.tradeProviderInfo.value)"
          ></app-provider-panel>
        </div>
      </ng-container>
    </main>
    <footer class="instant-trade-bottom-form__footer"></footer>
</div>
<div class="instant-trade-bottom-form__swap">
  <a
    *ngIf="tokenInfoUrl"
    [href]="'https://keks.app/' + tokenInfoUrl"
    class="instant-trade-bottom-form__analytics"
    target="_blank"
  >
    <img src="assets/images/icons/analytic.svg" alt="{{ 'common.analytics' | translate }}" />
    <span>{{ 'common.analytics' | translate }}</span>
  </a>
  <app-swap-button
    [needApprove]="needApprove"
    [status]="tradeStatus"
    [formService]="swapFormService"
    [fromAmount]="fromAmount"
    (swapClick)="createTrade()"
    (approveClick)="approveTrade()"
    (loginEvent)="calculateTrades()"
    [providerError]="isProviderSelected"
  ></app-swap-button>
</div>
