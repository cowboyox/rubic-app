<ng-container *ngLet="isWalletConnected$ | async as isWalletConnected">
  <app-rubic-container *ngLet="isLoading$ | async as isLoading">
    <div class="header" title>
      <span>Invited Projects</span>
      <app-rotating-icon
        class="header__refresh"
        [rotating]="isLoading"
        [disabled]="!isWalletConnected"
        (iconClick)="onRefresh()"
      ></app-rotating-icon>
    </div>

    <div *ngIf="!isWalletConnected; else tableContent">
      <app-rubic-button appearance="secondary" (onClick)="openWalletsModal()">
        Connect Wallet
      </app-rubic-button>
    </div>

    <ng-template #tableContent>
      <tui-loader overlay="true" [showLoader]="isLoading" *ngLet="tableData$ | async as tableData">
        <app-promotion-table
          *ngIf="isDesktop; else accordion"
          [tableData]="tableData"
        ></app-promotion-table>
        <ng-template #accordion>
          <app-promotion-accordion [tableData]="tableData"></app-promotion-accordion>
        </ng-template>
      </tui-loader>
    </ng-template>
  </app-rubic-container>
</ng-container>
