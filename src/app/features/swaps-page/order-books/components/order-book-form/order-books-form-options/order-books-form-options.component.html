<section class="advanced-section">
  <!--first-->
  <div class="advanced-section__row advanced-section-row">
    <div class="advanced-section__block advanced-section-block">
      <div class="advanced-section-block__input-container input-container">
        <label class="input-container__label" for="date-input-id">Closing date</label>

        <input
          class="input-container__input input-container__input_date"
          id="date-input-id"
          matInput
          [matDatepicker]="datePicker"
          [min]="minClosingDate"
          (dateChange)="onDateChange()"
          readonly
          [(ngModel)]="closingDate"
          (click)="datePicker.open()"
        />

        <mat-datepicker #datePicker></mat-datepicker>
      </div>
    </div>

    <div class="advanced-section__block advanced-section-block">
      <div class="advanced-section-block__input-container input-container">
        <label class="input-container__label" for="time-input-id">Closing time</label>

        <input
          class="input-container__input input-container__input_time"
          id="time-input-id"
          [ngxTimepicker]="timePicker"
          [format]="24"
          [min]="minClosingTime"
          readonly
          [(ngModel)]="closingTime"
          (ngModelChange)="onTimeChange()"
        />

        <ngx-material-timepicker #timePicker></ngx-material-timepicker>
      </div>
    </div>

    <div class="advanced-section__block advanced-section-block">
      <div class="advanced-section-block__input-container input-container">
        <label class="input-container__label" for="is-public-ckeckbox-id">Public deal</label>
        <input
          type="checkbox"
          class="input-container__checkbox input-container__checkbox_hidden"
          id="is-public-ckeckbox-id"
          [ngModel]="tradeForm.isPublic"
          (ngModelChange)="onIsPublicChange($event)"
        />

        <label
          class="input-container__input input-container__input_checkbox input-checkbox"
          [ngClass]="{ 'input-checkbox_not-checked': !tradeForm.isPublic }"
          for="is-public-ckeckbox-id"
        >
          <span>{{ tradeForm.isPublic ? 'Yes' : 'No' }}</span>

          <span
            class="input-checkbox__image"
            [ngClass]="{ 'input-checkbox__image_not-checked': !tradeForm.isPublic }"
          ></span>
        </label>
      </div>

      <div class="advanced-section-block__description-container description-container">
        <span class="description-container__dash">&ndash;</span>
        <span>Trade will be listed on the main page</span>
      </div>
    </div>
  </div>

  <!--second-->
  <div class="advanced-section__row" *ngIf="!tradeForm.areAmountsAndTokensSet">
    Set tokens and amounts to see options
  </div>

  <!--second-->
  <div
    class="advanced-section__row advanced-section-row advanced-section-row_second"
    *ngIf="tradeForm.areAmountsAndTokensSet"
  >
    <div class="advanced-section__block advanced-section-block">
      <div class="advanced-section-block__input-container input-container">
        <label class="input-container__label" for="min-base-contribute-input-id">
          Minimum contribution in {{ tradeForm.token.base.symbol }}
        </label>

        <input
          class="input-container__input input-container__input_min-contribute"
          id="min-base-contribute-input-id"
          placeholder="Enter amount"
          appNumberPrecision
          [decimalLength]="tradeForm.token.base.decimals"
          [maxValue]="tradeForm.token.base.amount.toFixed()"
          [ngModel]="tradeForm.token.base.minContribution"
          (ngModelChange)="onMinContributeChange('base', $event)"
          #baseMinContribute="ngModel"
          [ngClass]="{
            'input-container__input_invalid': baseMinContribute.invalid
          }"
        />
      </div>
    </div>

    <div class="advanced-section__block advanced-section-block">
      <div class="advanced-section-block__input-container input-container">
        <label class="input-container__label" for="min-quote-contribute-input-id">
          Minimum contribution in {{ tradeForm.token.quote.symbol }}
        </label>

        <input
          class="input-container__input input-container__input_min-contribute"
          id="min-quote-contribute-input-id"
          placeholder="Enter amount"
          appNumberPrecision
          [decimalLength]="tradeForm.token.quote.decimals"
          [maxValue]="tradeForm.token.quote.amount.toFixed()"
          [ngModel]="tradeForm.token.quote.minContribution"
          (ngModelChange)="onMinContributeChange('quote', $event)"
          #quoteMinContribute="ngModel"
          [ngClass]="{
            'input-container__input_invalid': quoteMinContribute.invalid
          }"
        />
      </div>
    </div>
  </div>

  <!--third-->
  <div
    class="advanced-section__row advanced-section-row advanced-section-row_third"
    *ngIf="tradeForm.areAmountsAndTokensSet"
  >
    <div class="advanced-section__block advanced-section-block advanced-section-block_full">
      <div class="advanced-section-block__input-container input-container">
        <label class="input-container__label" for="is-with-broker-fee-checkbox-id">
          Broker Fee
        </label>

        <input
          type="checkbox"
          class="input-container__checkbox input-container__checkbox_hidden"
          id="is-with-broker-fee-checkbox-id"
          [ngModel]="tradeForm.isWithBrokerFee"
          (ngModelChange)="onIsWithBrokerFeeChange($event)"
        />

        <label
          class="input-container__input input-container__input_checkbox input-checkbox"
          [ngClass]="{ 'input-checkbox_not-checked': !tradeForm.isWithBrokerFee }"
          for="is-with-broker-fee-checkbox-id"
        >
          <span>{{ tradeForm.isWithBrokerFee ? 'Yes' : 'No' }}</span>

          <span
            class="input-checkbox__image"
            [ngClass]="{ 'input-checkbox__image_not-checked': !tradeForm.isWithBrokerFee }"
          ></span>
        </label>
      </div>

      <div class="advanced-section-block__description-container description-container">
        <span class="description-container__dash">&ndash;</span>
        <span>You can specify % for Broker</span>
      </div>
    </div>

    <div class="advanced-section-row__broker-data" *ngIf="tradeForm.isWithBrokerFee">
      <div class="advanced-section__block advanced-section-block advanced-section-block_full">
        <div
          class="advanced-section-block__input-container input-container input-container_broker-address"
        >
          <label
            class="input-container__label input-container__label_broker-address"
            for="broker-fee-address-input-id"
          >
            Broker Address
          </label>

          <input
            class="input-container__input input-container__input_broker-address"
            id="broker-fee-address-input-id"
            placeholder="0xD0593B233Be4411A236F22b42087345E1137170b"
            pattern="0x[0-9a-fA-F]{40}"
            [ngModel]="tradeForm.brokerAddress"
            (ngModelChange)="onBrokerAddressChange($event)"
            #brokerAddress="ngModel"
            [ngClass]="{
              'input-container__input_invalid': brokerAddress.value && brokerAddress.invalid
            }"
          />
        </div>
      </div>

      <div class="advanced-section__block advanced-section-block">
        <div
          class="advanced-section-block__input-container input-container input-container_broker-percent"
        >
          <label class="input-container__label" for="broker-percent-base-input-id">
            Specify % for {{ tradeForm.token.base.symbol }}
          </label>

          <input
            class="input-container__input input-container__input_broker-percent"
            id="broker-percent-base-input-id"
            appNumberPrecision
            integerLength="2"
            decimalLength="2"
            maxValue="50"
            [ngModel]="tradeForm.token.base.brokerPercent"
            (ngModelChange)="onBrokerPercentChange('base', $event)"
            #baseBrokerPercent="ngModel"
          />

          <span class="input-container__percent-sign">%</span>

          <span class="input-container__calculation">
            You will get: <br />
            {{ getBrokerPercent('base') }} {{ tradeForm.token.base.name }}
          </span>
        </div>
      </div>

      <div class="advanced-section__block advanced-section-block">
        <div
          class="advanced-section-block__input-container input-container input-container_broker-percent"
        >
          <label class="input-container__label" for="broker-percent-quote-input-id">
            Specify % for {{ tradeForm.token.quote.symbol }}
          </label>

          <input
            class="input-container__input input-container__input_broker-percent"
            id="broker-percent-quote-input-id"
            appNumberPrecision
            integerLength="2"
            decimalLength="2"
            maxValue="50"
            [ngModel]="tradeForm.token.quote.brokerPercent"
            (ngModelChange)="onBrokerPercentChange('quote', $event)"
            #quoteBrokerPercent="ngModel"
          />

          <span class="input-container__percent-sign">%</span>

          <span class="input-container__calculation">
            You will get: <br />
            {{ getBrokerPercent('quote') }} {{ tradeForm.token.quote.name }}
          </span>
        </div>
      </div>
    </div>
  </div>
</section>
