<div class="order-book-form">
  <div class="order-book-form__main-section main-section">
    <div class="main-section__tokens-forms tokens-forms">
      <div class="tokens-forms__tokens-form tokens-form">
        <span class="tokens-form__header">{{ 'You have' | translate }}</span>

        <app-tokens-input
          [tokensList]="[]"
          (numberChanges)="onAmountChanges('base', $event)"
        ></app-tokens-input>

        <div class="tokens-form__custom-section custom-section">
          <div class="custom-section__button-container">
            <label
              class="custom-section__button"
              for="base-custom-input"
              (click)="isCustomTokenSectionOpened.base = !isCustomTokenSectionOpened.base"
            >
              {{ isCustomTokenSectionOpened.base ? 'Cancel' : 'Use custom token' }}
            </label>
          </div>

          <div
            class="custom-section__form custom-section-form"
            *ngIf="isCustomTokenSectionOpened.base"
          >
            <input
              type="text"
              class="custom-section-form__input"
              id="base-custom-input"
              placeholder="Token Contract Address"
              pattern="0x[A-Fa-f0-9]{40}"
              appTokenAddress
              [blockchain]="blockchain"
              (tokenValidated)="addCustomToken('base', $event)"
              [(ngModel)]="customTokens.base.address"
              #baseCustomToken="ngModel"
              [ngClass]="{
                'custom-section-form__input_invalid':
                  baseCustomToken.value && baseCustomToken.invalid
              }"
            />
            <app-primary-button
              label="Add"
              [animate]="baseCustomToken.pending"
              [disabled]="!baseCustomToken.valid"
              (click)="setCustomToken('base')"
            ></app-primary-button>
          </div>
        </div>
      </div>

      <button class="tokens-forms__revert-btn" type="button">
        <img src="/assets/images/icons/revert.svg" alt="reverse tokens" />
      </button>

      <div class="tokens-forms__tokens-form tokens-form">
        <span class="tokens-form__header">{{ 'You want to get' | translate }}</span>

        <app-tokens-input
          [tokensList]="[]"
          (numberChanges)="onAmountChanges('quote', $event)"
        ></app-tokens-input>

        <div class="tokens-form__custom-section custom-section">
          <label
            class="custom-section__button"
            for="quote-custom-input"
            (click)="isCustomTokenSectionOpened.quote = !isCustomTokenSectionOpened.quote"
          >
            {{ isCustomTokenSectionOpened.quote ? 'Cancel' : 'Use custom token' }}
          </label>

          <div
            class="custom-section__form custom-section-form"
            *ngIf="isCustomTokenSectionOpened.quote"
          >
            <input
              type="text"
              class="custom-section-form__input"
              id="quote-custom-input"
              placeholder="Token Contract Address"
              pattern="0x[A-Fa-f0-9]{40}"
              appTokenAddress
              [blockchain]="blockchain"
              (tokenValidated)="addCustomToken('quote', $event)"
              [(ngModel)]="customTokens.quote.address"
              #quoteCustomToken="ngModel"
              [ngClass]="{
                'custom-section-form__input_invalid':
                  quoteCustomToken.value && quoteCustomToken.invalid
              }"
            />
            <app-primary-button
              label="Add"
              [animate]="quoteCustomToken.pending"
              [disabled]="!quoteCustomToken.valid"
              (click)="setCustomToken('quote')"
            ></app-primary-button>
          </div>
        </div>
      </div>
    </div>

    <div class="main-section__confirm-section confirm-section">
      <app-primary-button
        label="Create Trade"
        [disabled]="!isCreateTradeAvailable"
        (click)="createTrade()"
      ></app-primary-button>

      <div
        class="confirm-section__advanced-options-button"
        [ngClass]="{ 'confirm-section__advanced-options-button_opened': isAdvancedSectionOpened }"
        (click)="isAdvancedSectionOpened = !isAdvancedSectionOpened"
      >
        Advanced Options <img src="/assets/images/icons/arrow/arrow-down-green.svg" alt="" />
      </div>
    </div>
  </div>

  <!--advanced options are necessary for order book, so you must not use *ngIf-->
  <app-order-books-form-options
    class="order-book-form__advanced-section"
    [(tradeInfo)]="tradeInfo"
    (validChange)="areAdvancedOptionsValid = $event"
    [ngClass]="{
      'order-book-form__advanced-section_hidden': !isAdvancedSectionOpened
    }"
  ></app-order-books-form-options>
</div>
